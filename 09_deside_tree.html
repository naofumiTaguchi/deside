<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">
        <div id="dialog">
            <div class="dialog__text">
                <p id="question">問題文◯◯が好き</p>
            </div>
            <div class="dialog__btn">
                <button class="dialog__btn--yes" id="yes">Yes</button>
                <button class="dialog__btn--no" id="no">No</button>
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', ()=>{

    let question = document.getElementById('question');
    function dialog(){
        let i = 0;
        document.addEventListener('click',(e)=>{
            if([].indexOf.call(document.querySelectorAll('.dialog__btn button'),e.target)>=0){
                if(e.target.id == 'yes'){
                    i = left[i];
                }else{
                    i = right[i];
                }
            };
            if(left[i]!=-1){
                question.innerText = node[i];
            }else{
                question.innerText = 'あなたは'+node[i]+'です。';
                let btnarea = document.querySelector('.dialog__btn');
                btnarea.style.display="none";
            }
            
        });
        question.innerText = node[i]; // 初発
    }
    
    
    let node = [
        'しじみが好き',
        'あさりが好き',
        '煮干しが好き',
        'オイスターが好き',
        'かつおが好き',
        'こんぶが好き',
        'はまぐりが好き',
        '皿麺類派',
        'おすまし派',
        '丼麺類派',
        'みそしる派',
        'おでん派',
        '庶民',
        '上級国民',
        '中流家庭'
    ];
    let left = [
        '1',
        '3',
        '5',
        '7',
        '9',
        '11',
        '13',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1'
    ];
    let right = [
        '2',
        '4',
        '6',
        '8',
        '10',
        '12',
        '14',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1',
        '-1'
    ];

    dialog();
});
</script>
</body>
</html>